======================
レシピブックの機能一覧
======================

レシピブックの機能は、一般利用者が使う公開画面と、管理者が使う管理画面に分けられます。

.. contents:: 目次
    :depth: 2
    :local:


公開画面の機能
==============

以下に挙げるのは、一般利用者がレシピブックを利用する時に使える機能です。

利用者は「メンバー」となることによって様々な機能を利用することができるようになります。

メンバー登録
------------

利用者は以下の情報を入力して仮メンバー登録を行います。

* メールアドレス
* ニックネーム
* パスワード
* 性別
* 誕生年
* 住所（都道府県）

入力されたメールアドレスに仮登録メールが送信されます。
仮登録メールに記載された URL にアクセスすると、登録が完了します。

ログイン
--------

メンバーはメールアドレスとパスワードを入力してログインを行います。

アカウント設定
--------------

メンバーは以下の項目を設定および変更することができます。

* メールアドレス
* パスワード
* ニックネーム
* 住所（都道府県）
* プロフィール
* ブログURL
* アイコン画像
* コメント拒否
* お知らせメール拒否

メールアドレスの変更は確認メールに記載された URL へのアクセスが必要です。

退会
----

メンバーは退会操作を行うことができます。

退会したメンバーの投稿したレシピがコンテストで受賞していた場合は、退会後もレシピが表示されつづけます。

レシピ・お題検索
----------------

任意の文字列でお題とレシピを同時に検索することができます。

お題表示
--------

お題のページには以下の項目が表示されます。

* お題の内容
* 募集期間および結果発表日
* レシピ一覧
* 受賞レシピ（管理者が選択した個数）

お題は管理者が設定した募集開始日時になると自動的に表示されます。
募集期間中は投稿ボタンが表示されます。

注目のメンバー
--------------

レシピの投稿やコメントなどの最近のアクションが多いメンバーを表示します。

ホーム画面
----------

ホーム画面には以下の情報が表示されます。

* サイトからのお知らせ
* フェイバリットメンバーのコメントやレシピ投稿のお知らせ
* 最近もらったコメント
* 最近書いたレシピ

この画面でコメントの承認や削除を行うことができます。

プロフィール画面
----------------

メンバーの情報が表示されます。

* ニックネーム
* 自己紹介
* アイコン
* 最近書いたレシピ
* 人気の高いレシピ
* フェイバリットレシピ
* フェイバリットメンバー

レシピ投稿
----------

メンバーは以下の情報を入力してレシピを作成できます。

* タイトル
* 完成写真
* 紹介文
* フィーリング（選択式）
* 作り方のヒント・コツ
* 分量の人数
* 素材と分量（自由入力）
* 作り方の手順と写真

「素材と分量」および「作り方の手順と写真」は、任意の個数入力でき、ドラッグ＆ドロップで自由な順序に並べ替えができます。
投稿された画像は自動的にリサイズされます。

アレンジレシピ
--------------

メンバーは他のメンバーのレシピをコピーして一部の情報を変更した「アレンジレシピ」を作成できます。
アレンジの元となったレシピとアレンジ後のレシピは互いにリンクされます。

フェイバリットレシピ
--------------------

メンバーは気に入ったレシピのリストを作成することができます。

フェイバリットメンバー
----------------------

メンバーは気に入ったメンバーのリストを作成することができます。
フェイバリットに追加したメンバーがコメントをしたりレシピを公開すると、ホーム画面にお知らせとして通知されます。
フェイバリットメンバーは20人までに制限されており、それ以上追加しようとすると追加できない旨のメッセージが表示されます。

レシピメール機能
----------------

メンバーは任意のレシピの内容をメールで送信することができます。
送信先はデフォルトで登録済のメールアドレスになりますが、変更することもできます。

レシピ印刷画面表示
------------------

利用者はレシピを印刷に適した画面で表示することができます。

投票
----

メンバーは他のメンバーが投稿した任意のレシピに対して投票を行うことができます。
投票できる回数には限度があり、レシピを書いたりコメントを投稿すると回数が増えます。

コメント
--------

メンバーはレシピにコメントを投稿することができます。
一つのコメントにつき、本文と画像一枚を投稿できます。

コメント拒否の設定をしているメンバーのレシピに対してはコメントをすることができません。

投稿されたコメントは、レシピの作成者が承認するまでは表示されません。
また、承認されたコメントもメンバーにしか読むことができません。

コメント管理
------------

メンバーは自分のレシピに対して投稿されたコメントを承認または削除することができます。
自分のレシピへのコメントはホーム画面に表示されます。

フィードバック（ご意見）
------------------------

メンバーは画面下部に常に表示されている「ご意見」ボタンをクリックすることにより、サイト運営者への意見などを投稿することができます。


管理画面の機能
==============

以下の機能は、サイト管理者のみが利用できます。

サイト管理者はインストール時に一人設定され、任意の人数追加することができます。

メンバー管理
------------

管理者はメンバーの一覧表示、検索、退会操作を行うことができます。

管理ユーザー管理
----------------

管理者は管理ユーザーの一覧表示、検索、追加、編集、削除、権限設定を行うことができます。

権限設定では、データの種類ごとに、追加、編集、削除が可能かを設定します。

食材管理
--------

管理者はお題にひもづけたり、レシピ検索に使われる食材を一覧表示、追加、編集、削除できます。
また食材は食材カテゴリーに所属させることができます。
食材はあらかじめ 100 点以上が登録されています。

料理管理
--------

管理者はお題にひもづけたり、レシピ検索に使われる料理を一覧表示、追加、編集、削除できます。
また料理は料理カテゴリーに所属させることができます。
料理はあらかじめ 100 点以上が登録されています。

フィーリング管理
----------------

管理者はお題やレシピにひもづくフィーリングを一覧表示、追加、編集、削除できます。

食材生産者管理
--------------

管理者はお題にひもづけることができる食材生産者を一覧表示、追加、編集、削除できます。
食材生産者は以下の情報からなります。

* 名前
* 紹介文
* 写真（任意）
* URL（任意）

登録した食材生産者をお題にひもづけると、お題の詳細画面に食材生産者の情報が表示されるようになります。

お題（コンテスト）管理
----------------------

管理者はお題を一覧表示、追加、編集、削除できます。

お題を追加する時は以下の項目を入力します。

* タイトル
* 料理（選択式・任意）
* フィーリング（選択式・任意）
* 食材（選択式・任意）
* 説明文
* イメージ画像（任意）
* 生産者（選択式・任意）
* 募集開始日
* 募集締切日
* 審査結果発表日

審査期間中は、以下の項目を入力することができます。

* 審査中フラグ
* 審査完了フラグ
* 選評
* 審査写真（5枚まで）

レシピ管理
----------

管理者はレシピを一覧表示、検索、削除できます。
また、レシピを受賞レシピとして選ぶことができます。

ニュース管理
------------

管理者はサイトに掲載するニュースを一覧表示、追加、削除できます。

* 見出し
* URL（任意。外部へのリンクを設定したい場合）
* 本文
* 写真・画像（任意）
* 公開フラグ
* 公開日

ニュースは、公開フラグが設定されており、かつ公開日を過ぎている場合にのみ一般利用者が閲覧可能となります。

ドキュメント管理
----------------

管理者はドキュメント（ヘルプや利用規約などのページ）を一覧表示、追加、編集、削除できます。

ドキュメントは以下の項目から成ります。

* 見出し
* ラベル
* 本文
* 親文書（任意）
* 整列順
* マークアップ文法の種類（任意）
* 画像（任意）
* 画像の説明（任意）

親文書を設定することにより、階層表示をすることができます。

フィードバック管理
------------------

管理者はフィードバック機能によってメンバーから投稿されたフィードバックを一覧表示できます。
フィードバックはどのページから投稿されたかが分かるようになっており、投稿されたフィードバックは管理者のメールアドレスにも送信されます。

また、管理者はフィードバックのカテゴリを一覧表示、追加、編集、削除できます。
